# 🚀 ShiftMaster プロンプト自動生成器 v2.0

## 📋 概要
ShiftMaster勤怠システム開発に特化した高度なプロンプト自動生成システムです。GitHub Copilot Agentに指示する際に、16項目の必須条件を自動で付加し、統一性のある高品質な開発を実現します。

## ✨ 新機能（v2.0）

### 🎯 コア機能
- ✅ **16項目自動付加**: MTRXシステム統合から完全自動化まで
- ✅ **テンプレート機能**: 8つの基本テンプレート + カスタムテンプレート作成
- ✅ **プロンプト履歴管理**: 最大100件の履歴保存・検索
- ✅ **統計機能**: 使用頻度・活動状況の可視化
- ✅ **自動監視・修正**: Djangoシステムの状態監視と自動修正

### 🔧 高度な機能
- 📊 **使用統計**: 日別活動状況、最も活発な日の表示
- 🤖 **自動実行管理**: システム状態チェック、問題の自動修正
- 💾 **履歴管理**: タイムスタンプ付きプロンプト履歴
- 🎨 **カスタムテンプレート**: ユーザー独自のテンプレート作成・管理
- 📤 **エクスポート機能**: JSON形式でのシステム条件出力

## 🏗️ ファイル構成

```
h:\Projects\ShiftMaster\
├── Get_ChildItem.py              # メインプロンプト生成器 v2.0
├── auto_manager.py               # 自動実行・デバッグマネージャー
├── ShiftMaster.ps1               # 統合実行スクリプト
├── run_prompt_generator.bat      # 簡易起動バッチ
├── run_prompt_generator.ps1      # PowerShell起動スクリプト
├── README_PromptGenerator.md     # 詳細ドキュメント
├── USAGE_EXAMPLES.md             # 使用例集
├── prompt_templates/             # テンプレートディレクトリ
│   └── custom_templates.json     # カスタムテンプレート
├── prompt_history/               # 履歴ディレクトリ
│   └── prompt_history.json       # プロンプト履歴
├── auto_logs/                    # 自動管理ログ
└── generated_prompt_*.txt        # 生成されたプロンプト
```

## 🚀 使用方法

### 基本実行

#### 1. 統合管理システム（推奨）
```powershell
.\ShiftMaster.ps1
```
メニュー形式で全機能にアクセス可能

#### 2. プロンプト生成器単体
```powershell
# 対話モード
python Get_ChildItem.py

# 自動モード
python Get_ChildItem.py "新しい機能を追加したい"

# コマンドオプション
python Get_ChildItem.py --help      # ヘルプ表示
python Get_ChildItem.py --version   # バージョン表示
python Get_ChildItem.py --history   # 履歴表示
python Get_ChildItem.py --stats     # 統計表示
python Get_ChildItem.py --export    # 設定エクスポート
```

#### 3. 自動管理システム
```powershell
# システム状態チェック
python auto_manager.py check

# 問題の自動修正
python auto_manager.py fix

# 自動監視開始（5分間隔）
python auto_manager.py monitor 300
```

### 対話モード機能

対話モードでは以下の機能が利用できます：

1. **新しいプロンプトを作成** - フリーテキスト入力
2. **テンプレートから作成** - 8つの基本テンプレート選択
3. **プロンプト履歴を表示** - 過去のプロンプト確認
4. **カスタムテンプレートを追加** - 独自テンプレート作成
5. **システム条件をエクスポート** - JSON形式で出力

## 📊 統計・履歴機能

### プロンプト履歴
- 最大100件の履歴保存
- タイムスタンプ付き管理
- プレビュー表示
- ファイルパス情報

### 使用統計
- 総プロンプト数
- 日別活動状況
- 最近7日間の活動グラフ
- 最も活発な日の表示

## 🎨 テンプレート機能

### 基本テンプレート（8種類）
1. **新機能追加** - 新しい機能実装用
2. **バグ修正** - エラー・不具合修正用
3. **UI改善** - インターフェース改善用
4. **データベース** - DB関連処理用
5. **API開発** - API機能開発用
6. **セキュリティ** - セキュリティ強化用
7. **パフォーマンス** - 最適化用
8. **テスト** - テストコード作成用

### カスタムテンプレート
- ユーザー独自のテンプレート作成
- JSON形式で永続保存
- 対話モードから簡単追加

## 🤖 自動管理機能

### システム監視項目
- ✅ データベース接続状態
- ✅ マイグレーション適用状況
- ✅ 静的ファイル収集状態
- ✅ URL設定検証
- ✅ テンプレートファイル存在確認

### 自動修正機能
- 🔧 未適用マイグレーションの自動実行
- 🔧 静的ファイルの自動収集
- 🔧 設定エラーの自動検出・報告
- 🔧 定期監視とレポート生成

## 🎯 16項目必須条件

すべてのプロンプトに自動付加される条件：

1. **MTRXシステム統合** - https://www.mtrx.co.jp/ 全機能統合
2. **AI自動化** - 無料AI組み込み自動勤務表管理
3. **レイアウト保持** - 現在のレイアウト維持
4. **安定性重視** - 重複のない拡張性高い設計
5. **エラー表示** - タスク画面へのエラー表示
6. **自動デバッグ** - エラーの自動検出・修正
7. **URL確認** - 修正後のサイトURL表示
8. **自動実行** - 各種ボタンの自動実行
9. **連携確認** - Django各コンポーネント連携確認
10. **技術スタック** - Django + PostgreSQL17 + Bootstrap5
11. **提案制御** - 修正提案時の実行待機
12. **DB設定** - PostgreSQL設定（ポート5333）
13. **システム再利用** - 既存システムの効率活用
14. **画像管理** - 指定ディレクトリからの自動選択
15. **フロントエンド** - 全クリックイベントエラー対策
16. **完全自動化** - 全プロセスの自動化

## 🔧 技術仕様

### 動作環境
- **OS**: Windows 10/11
- **Python**: 3.x
- **Django**: 最新版
- **データベース**: PostgreSQL 17（ポート5333）
- **フロントエンド**: Bootstrap 5

### 依存関係
- 標準ライブラリのみ（外部ライブラリ不要）
- `sys`, `json`, `datetime`, `pathlib`, `typing`, `subprocess`

### ファイル形式
- **プロンプト**: UTF-8テキストファイル
- **履歴**: JSON形式
- **テンプレート**: JSON形式
- **ログ**: テキストファイル

## 📈 使用例

### 新機能開発
```powershell
python Get_ChildItem.py "勤怠データ分析ダッシュボードを追加したい"
```
→ AI分析機能・Bootstrap5UI・PostgreSQL連携条件付きプロンプト生成

### エラー対応
```powershell
python Get_ChildItem.py "ログイン認証でエラーが発生している"
```
→ 自動デバッグ・修正・URL確認条件付きプロンプト生成

### システム監視
```powershell
python auto_manager.py monitor 600
```
→ 10分間隔でDjangoシステム状態を自動監視・修正

## 🎉 効果・メリット

### 開発効率向上
- ⚡ **プロンプト作成時間90%短縮**
- 🎯 **条件忘れ防止100%**
- 📈 **品質統一性向上**

### 保守性向上
- 🔄 **自動監視による問題早期発見**
- 🔧 **自動修正による稼働率向上**
- 📊 **統計による改善ポイント可視化**

### 学習効果
- 📚 **履歴機能による過去の振り返り**
- 🎨 **テンプレート活用による標準化**
- 🤖 **自動化による運用ノウハウ蓄積**

## 🆕 更新履歴

### v2.0.0 (2025年6月23日)
- 🎨 テンプレート機能追加
- 📊 統計・履歴機能実装
- 🤖 自動監視・修正機能追加
- 💻 統合管理システム実装
- 🔧 カスタムテンプレート機能
- 📤 エクスポート機能追加

### v1.0.0 (2025年6月23日)
- 🚀 初回リリース
- 📝 基本プロンプト生成機能
- 💾 ファイル保存機能
- 🔄 対話・自動モード実装

## 📞 サポート

技術的な問題や改善提案は開発チームまでお問い合わせください。

---

**ShiftMaster Project** - 最高の勤怠管理システムを目指して 🌟
