# 🚀 ShiftMaster プロジェクト概要

## 📋 プロジェクト情報

- **プロジェクト名**: ShiftMaster
- **バージョン**: 1.0.0
- **作成日**: 2025年7月14日
- **最終更新**: 2025年7月14日
- **開発者**: [@minatoman](https://github.com/minatoman)
- **ライセンス**: MIT License

## 🎯 プロジェクト目標

ShiftMasterは医療施設向けの包括的なシフト管理システムです。24時間体制での医療サービス提供を支援し、医療従事者の効率的な勤務管理を実現します。

### 主要目標
- 🏥 医療施設特有のシフト管理要件に対応
- 🛡️ 医療データのセキュリティ・プライバシー保護
- ⚡ 24時間365日の安定運用
- 📊 労働基準法・医療法規制への準拠
- 🚀 スケーラブルで保守性の高いシステム構築

## 🛠️ 技術アーキテクチャ

### システム構成
```
┌─────────────────────────────────────────────────────────────┐
│                        Frontend Layer                       │
├─────────────────────────────────────────────────────────────┤
│ Bootstrap 5.3 + jQuery + Responsive Design                 │
└─────────────────────────────────────────────────────────────┘
                                │
┌─────────────────────────────────────────────────────────────┐
│                     Application Layer                       │
├─────────────────────────────────────────────────────────────┤
│ Django 5.2 + REST Framework + Celery                       │
│ - Views & Templates                                         │
│ - Business Logic                                            │
│ - API Endpoints                                             │
│ - Background Tasks                                          │
└─────────────────────────────────────────────────────────────┘
                                │
┌─────────────────────────────────────────────────────────────┐
│                       Data Layer                           │
├─────────────────────────────────────────────────────────────┤
│ PostgreSQL 15 (Primary) + Redis 7 (Cache/Session)         │
│ - Shift Data                                               │
│ - User Management                                          │
│ - Audit Logs                                               │
│ - Configuration                                            │
└─────────────────────────────────────────────────────────────┘
                                │
┌─────────────────────────────────────────────────────────────┐
│                   Infrastructure Layer                      │
├─────────────────────────────────────────────────────────────┤
│ Docker + Nginx + SSL/TLS                                   │
│ - Container Orchestration                                  │
│ - Load Balancing                                           │
│ - SSL Termination                                          │
│ - Static File Serving                                      │
└─────────────────────────────────────────────────────────────┘
```

### 開発・運用環境

#### 開発環境
- **OS**: Windows 11 / Ubuntu 22.04+
- **言語**: Python 3.8+
- **フレームワーク**: Django 5.2
- **データベース**: SQLite (開発) / PostgreSQL (本番)
- **コンテナ**: Docker + Docker Compose

#### 本番環境
- **インフラ**: VPS / クラウド
- **Webサーバー**: Nginx 1.24+
- **アプリケーションサーバー**: Gunicorn
- **データベース**: PostgreSQL 15
- **キャッシュ**: Redis 7
- **タスクキュー**: Celery + Redis
- **監視**: システムログ + アプリケーションメトリクス

## 📁 プロジェクト構造

```
ShiftMaster/
├── 📁 shiftmaster/          # Django プロジェクト設定
│   ├── settings/            # 環境別設定ファイル
│   ├── urls.py             # URLルーティング
│   └── wsgi.py             # WSGI設定
├── 📁 shifts/              # シフト管理アプリ
│   ├── models.py           # データモデル
│   ├── views.py            # ビューロジック
│   ├── urls.py             # URL設定
│   └── templates/          # HTMLテンプレート
├── 📁 static/              # 静的ファイル
│   ├── css/                # スタイルシート
│   ├── js/                 # JavaScript
│   └── images/             # 画像ファイル
├── 📁 templates/           # 共通テンプレート
├── 📁 docker/              # Docker設定
│   ├── docker-compose.prod.yml  # 本番環境
│   ├── docker-compose.dev.yml   # 開発環境
│   └── Dockerfile          # イメージ定義
├── 📁 nginx/               # Nginx設定
├── 📁 scripts/             # 運用スクリプト
│   ├── manage.ps1          # PowerShell管理ツール
│   ├── deploy.sh           # デプロイスクリプト
│   ├── backup_manager.sh   # バックアップ管理
│   └── ssl_manager.sh      # SSL証明書管理
├── 📁 docs/                # ドキュメント
├── 📁 tests/               # テストファイル
├── 📄 requirements.txt     # Python依存関係
├── 📄 .env.example         # 環境変数テンプレート
├── 📄 DEPLOYMENT_GUIDE.md  # 運用ガイド
└── 📄 README.md            # プロジェクト概要
```

## 🔐 セキュリティ実装

### データ保護
- **暗号化**: AES-256による保存時暗号化
- **通信**: TLS 1.3による転送時暗号化
- **認証**: 多要素認証 + セッション管理
- **認可**: 役割ベースアクセス制御 (RBAC)

### 監査・コンプライアンス
- **監査ログ**: 全操作の追跡記録
- **HIPAA準拠**: 医療情報プライバシー規則対応
- **データ保持**: 法的要件に応じた自動削除
- **アクセス制御**: 最小権限の原則

## 📊 機能要件

### 🏥 シフト管理機能
- [ ] 医師・看護師・技師のシフト作成
- [ ] ローテーション自動生成
- [ ] 勤務時間・休憩時間管理
- [ ] 有給・特別休暇管理
- [ ] シフト変更・代替要員手配

### 👥 人事管理機能
- [ ] 医療従事者マスタ管理
- [ ] 資格・免許管理
- [ ] 勤務実績集計
- [ ] 労働時間分析
- [ ] 給与計算データ出力

### 🚨 緊急対応機能
- [ ] オンコール管理
- [ ] 緊急呼び出しシステム
- [ ] 代理医師自動選出
- [ ] 緊急時連絡網

### 📱 ユーザビリティ
- [ ] レスポンシブWebデザイン
- [ ] モバイル対応
- [ ] 多言語対応（日本語/英語）
- [ ] アクセシビリティ対応

## 🧪 品質保証

### テスト戦略
- **単体テスト**: Django TestCase
- **結合テスト**: API エンドポイントテスト
- **E2Eテスト**: Selenium WebDriver
- **負荷テスト**: Locust
- **セキュリティテスト**: OWASP ZAP

### CI/CD パイプライン
- **コード品質**: Flake8, Black, isort
- **セキュリティ**: Bandit, Safety
- **テスト**: pytest, coverage
- **デプロイ**: GitHub Actions + Docker

## 📈 運用監視

### システム監視
- **リソース監視**: CPU、メモリ、ディスク
- **アプリケーション監視**: レスポンス時間、エラー率
- **データベース監視**: クエリパフォーマンス
- **セキュリティ監視**: 不正アクセス検知

### ログ管理
- **アプリケーションログ**: Django Logging
- **アクセスログ**: Nginx Access Log
- **エラーログ**: System Error Log
- **監査ログ**: User Activity Log

## 🚀 デプロイメント

### 環境構成
```
開発環境 → ステージング環境 → 本番環境
    ↓           ↓            ↓
  SQLite   PostgreSQL   PostgreSQL
  Django    Docker      Docker + Nginx
  Manual    Auto Test   Auto Deploy
```

### デプロイフロー
1. **開発**: ローカル環境での開発・テスト
2. **プルリクエスト**: コードレビュー・自動テスト
3. **ステージング**: 本番環境相当でのテスト
4. **本番デプロイ**: 自動化されたゼロダウンタイムデプロイ

## 📞 サポート体制

### 緊急時対応
- **Level 1**: 基本的な運用問題 (4時間以内)
- **Level 2**: 技術的な問題 (2時間以内)
- **Level 3**: 緊急事態 (30分以内)

### 連絡先
- **技術サポート**: support@shiftmaster.com
- **緊急時**: emergency@shiftmaster.com
- **GitHub Issues**: バグ報告・機能要望

---

**このドキュメントは医療施設でのShiftMaster導入・運用を支援するために作成されました。**
**詳細な技術仕様や運用手順については、各種ドキュメントを参照してください。**
